#!/usr/bin/env bash
cd "$(dirname "${0}")"

menu(){
  while :
  do
    clear
    echo -ne "
███████╗██████╗ ███████╗███████╗██████╗ ███████╗██████╗ 
██╔════╝██╔══██╗██╔════╝██╔════╝██╔══██╗██╔════╝██╔══██╗
█████╗  ██████╔╝█████╗  █████╗  ██████╔╝███████╗██║  ██║
██╔══╝  ██╔══██╗██╔══╝  ██╔══╝  ██╔══██╗╚════██║██║  ██║
██║     ██║  ██║███████╗███████╗██████╔╝███████║██████╔╝
╚═╝     ╚═╝  ╚═╝╚══════╝╚══════╝╚═════╝ ╚══════╝╚═════╝ 
                                                        
d) Developer Software
g) Git Repos
k) Kde
s) Add SSH Keys
u) User Software
0) Update All (needs reboot)

Select Step:  "
    read -r step
    case $step in
      u) user_software ;;
      d) developer_software ;;
      g) ./extras/git-clones ;;
      k) kde ;;
      s) ./extras/keygen ;;
      0) update_all;;
      *)
        echo "Not a valid option"
        exit 1
        ;;
    esac
  done
}

developer_software(){
  pkg install -y rust rust-analyzer
  pkg install -y lazygit gitui
  pkg install -y zeal
}

kde(){
  pkg install --quiet --yes kde5 plasma5-sddm-kcm sddm xorg
  sysrc dbus_enable="YES" && service dbus start
  sysrc sddm_enable="YES" && service sddm start
}

update_all(){
  freebsd-update fetch install
  pkg update
  pkg upgrade -y
}

user_software(){
  pkg install -y alacritty 
  pkg install -y bat 
  pkg install -y chromium firefox
  pkg install -y exa
  pkg install -y fd-find
  pkg install -y fish
  pkg install -y fortune-mod-freebsd-classic
  pkg install -y fzf
  pkg install -y helix
  # pkg install -y neovim
  pkg install -y megacmd
  pkg install -y ripgrep
  pkg install -y starship
  pkg install -y spotify-tui
  pkg install -y tealdeer
  pkg install -y topgrade
  ./extras/fisher
}

menu
